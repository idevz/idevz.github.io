<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Glide 是 Golang 的 Vendor 包管理器，方便你管理 vendor 和 verdor 包。类似 Java 的 Maven，PHP 的 Composer。 Github：https://github.com/Masterminds/glide 在线文档：http://glide.readthedocs.io/en/stable 主要特性： 简单管理依赖 支持 versioning packages，包括 Semantic Versioning 2.0.0 支持 支持 aliasing packages (e.g. for working with github forks) Remove the need for munging import statements 支持所有 go 工具 支持 VCS 工具和 Go 支持：git、bzr、hg、svn 支持定制本地和全局插件 (see docs/plugins.md) 仓库缓存 结构： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 - $GOPATH/src/myProject (Your project) | |&ndash; glide.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Golang 包管理 • 做一个善于思考的学习者'>
<meta property='og:description' content='Glide 是 Golang 的 Vendor 包管理器，方便你管理 vendor 和 verdor 包。类似 Java 的 Maven，PHP 的 Composer。 Github：https://github.com/Masterminds/glide 在线文档：http://glide.readthedocs.io/en/stable 主要特性： 简单管理依赖 支持 versioning packages，包括 Semantic Versioning 2.0.0 支持 支持 aliasing packages (e.g. for working with github forks) Remove the need for munging import statements 支持所有 go 工具 支持 VCS 工具和 Go 支持：git、bzr、hg、svn 支持定制本地和全局插件 (see docs/plugins.md) 仓库缓存 结构： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 - $GOPATH/src/myProject (Your project) | |&ndash; glide.'>
<meta property='og:url' content='https://idevz.github.io/2017/07/golang-%E5%8C%85%E7%AE%A1%E7%90%86/'>
<meta property='og:site_name' content='做一个善于思考的学习者'>
<meta property='og:type' content='article'><meta property='article:section' content='tech'><meta property='article:tag' content='包管理'><meta property='article:published_time' content='2017-07-27T11:16:48&#43;08:00'/><meta property='article:modified_time' content='2017-10-23T14:54:43&#43;08:00'/><meta name='twitter:card' content='summary'>

<meta name="generator" content="Hugo 0.60.0-DEV" />

  <title>Golang 包管理 • 做一个善于思考的学习者</title>
  <link rel='canonical' href='https://idevz.github.io/2017/07/golang-%E5%8C%85%E7%AE%A1%E7%90%86/'>
  
  
  <link rel='icon' href='https://idevz.github.io/favicon.ico'>
<link rel='stylesheet' href='https://idevz.github.io/assets/css/main.6a060eb7.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-71947507-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head><body class='page type-tech'>

  <div class='site'><a class='screen-reader-text' href='#content'>Skip to Content</a><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='https://idevz.github.io/'>idevz.org</a>
      </li><li class='item'>
        <a href='https://idevz.github.io/tech/'>技术</a>
      </li><li class='item'>
        <a href='https://idevz.github.io/tools/'>工具</a>
      </li><li class='item'>
        <a href='https://idevz.github.io/life/'>Life</a>
      </li><li class='item'>
        <a href='https://idevz.github.io/page/about/'>关于</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>做一个善于思考的学习者</p><p class='desc site-desc'>Every Day Create Your History.</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Golang 包管理</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2017-07-27T11:16:48&#43;08:00'>2017, Jul 27</time>
</span>

  
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
3 mins read
</span>


</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  

<p>Glide 是 Golang 的 Vendor 包管理器，方便你管理 vendor 和 verdor 包。类似 Java 的 Maven，PHP 的 Composer。
Github：<a href="https://github.com/Masterminds/glide">https://github.com/Masterminds/glide</a>
在线文档：<a href="http://glide.readthedocs.io/en/stable">http://glide.readthedocs.io/en/stable</a>
主要特性：
简单管理依赖
支持 versioning packages，包括 Semantic Versioning 2.0.0 支持
支持 aliasing packages (e.g. for working with github forks)
Remove the need for munging import statements
支持所有 go 工具
支持 VCS 工具和 Go 支持：git、bzr、hg、svn
支持定制本地和全局插件 (see docs/plugins.md)
仓库缓存
结构：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
- $GOPATH/src/myProject  (Your project)
  |
  |&ndash; glide.yaml
  |
  |&ndash; glide.lock
  |
  |&ndash; main.go (Your main go code can live here)
  |
  |&ndash; mySubpackage (You can create your own subpackages, too)
  |    |
  |    |&ndash; foo.go
  |
  |&ndash; vendor
       |&ndash; github.com
            |
            |&ndash; Masterminds
                  |
                  |&ndash; &hellip; etc.
安装
1
2
3
4
5
6
7
8
9
10</p>

<h1 id="下载源码包-目前版本-0-12-3">下载源码包（目前版本：0.12.3）</h1>

<p>go get github.com/Masterminds/glide</p>

<h1 id="进入目录">进入目录</h1>

<p>cd github.com/Masterminds/glide</p>

<h1 id="编译">编译</h1>

<h1 id="注意-如果是离线安装的话-需要执行-go-install">注意，如果是离线安装的话，需要执行 go install</h1>

<p>make build
go build -o glide -ldflags &ldquo;-X main.version=v0.11.0&rdquo; glide.go
使用
检测项目的依赖包</p>

<p>Glide 能检测项目的依赖包 并且 创建一个名为 glide.yaml 的文件。能自动识别 Godep, GPM, Gom, and GB 等工具的配置文件。在 项目的 根目录 执行如下命令：
glide init
运行 glide init 命令的时候，会询问你是否需要以向导的方式提示及配置依赖包的版本，每步操作都需要你的确认。
更新 依赖包</p>

<p>执行如下命令，依据配置文件 glide.yaml 的内容，计算各个依赖包的精确版本号：
glide up
“up”是“update”的简写。这个命令会根据 glide.yaml 文件计算所需依赖包，并递归计算依赖包所需依赖包，并且确认各个依赖包的版本号。最后把这些信息写到一个名为 glide.lock 的文件中。
Glide 会把所有依赖包放到项目根目录的 vendor/ 目录下。如果某个依赖包有自己的 vendor/ 目录，默认情况下，Glide 不会删除它。go 工具链会使用它们的嵌套版本。如果想移除它们，使用 up 或 install 命令时，再加一个 &ndash;strip-vendor 或 -v 标签。
安装 依赖包</p>

<p>如果想下载所需依赖包，执行如下命令：
glide install
这个命令会做以下 2 件事：
(1) 如果 glide.lock 文件已经存在，Glide 会把 glide.lock 中已经计算好的确定版本号的依赖包批量下载到 vendor/ 目录下；
(2) 如果 glide.local 文件不存在，则会先执行 update 命令；
增加更多的 依赖包</p>

<p>使用 get 命令，Glide 能帮你添加更多的依赖包到 glide.yaml 文件中，如下所示：
glide get github.com/Masterminds/semver
glide get 命令功能 类似 go get，但是它会把依赖包下载到 vendor/ 目录，并且把相关信息配置到 glide.yaml 文件。
这个 get 命令 也可以带版本号，如下所示：
glide get github.com/Masterminds/semver#~1.2.0
“#”是依赖包 和 版本号的分隔符，版本号可以是 语义版本，范围版本，分支版本，标签 或 提交的版本ID。
如果没有指定 具体版本号 或 范围版本号， Glide 会使用 语义版本号，并且提示要求你确认所需要的版本号
注意：
glide 会把下载下来的包缓存到  ~/.glide/cache 目录下 。</p>

<p>版本号的指定（version字段）
Glide 支持 语义版本，范围版本，分支版本，标签版本，版本ID 最为版本号。
基本范围</p>

<p>举个简单例子，范围版本 &gt; 1.2.3，表示 Glide 会用 大于 1.2.3 以后的最新版本。目前支持如下操作符：
=: equal (aliased to no operator)
!=: not equal
&gt;: greater than
&lt;: less than
&gt;=: greater than or equal to
&lt;=: less than or equal to
它们还可以组合用，“,”表示 “逻辑与”，“||”表示“逻辑或”，如 &ldquo;&gt;= 1.2, &lt; 3.0.0 || &gt;= 4.2.3&rdquo;
连字符范围</p>

<p>1.2 - 1.4.5 which is equivalent to &gt;= 1.2, &lt;= 1.4.5
2.3.4 - 4.5 which is equivalent to &gt;= 2.3.4, &lt;= 4.5
通配符比较</p>

<p>字符 “x”、“X”、&rdquo;*&rdquo; 可以当做通配符，它可以应用于所有的比较操作中。当应用于“=”操作符中，它表示补丁最低级别的比较，如下所示：
1.2.x is equivalent to &gt;= 1.2.0, &lt; 1.3.0
&gt;= 1.2.x is equivalent to &gt;= 1.2.0
&lt;= 2.x is equivalent to &lt; 3
* is equivalent to &gt;= 0.0.0
波浪线 范围比较（补丁）</p>

<p>波浪线比较操作符主要用于补丁级别范围比较，当为次要版本数字没指定时，次要版本不变，主版本修改。如下所示：
~1.2.3 is equivalent to &gt;= 1.2.3, &lt; 1.3.0
~1 is equivalent to &gt;= 1, &lt; 2
~2.3 is equivalent to &gt;= 2.3, &lt; 2.4
~1.2.x is equivalent to &gt;= 1.2.0, &lt; 1.3.0
~1.x is equivalent to &gt;= 1, &lt; 2
脱字符 范围比较（主版本）</p>

<p>脱字符比较操作符是 为主版本号修改服务的。通常用于接口 主版本比较，如下所示：
^1.2.3 is equivalent to &gt;= 1.2.3, &lt; 2.0.0
^1.2.x is equivalent to &gt;= 1.2.0, &lt; 2.0.0
^2.3 is equivalent to &gt;= 2.3, &lt; 3
^2.x is equivalent to &gt;= 2.0.0, &lt; 3
glide.yaml 文件
文件 glide.yaml 包含了 当前包（项目）及依赖包 的相关信息，以下示例罗列了该文件的主要元素：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
package: github.com/Masterminds/glide
homepage: <a href="https://masterminds.github.io/glide">https://masterminds.github.io/glide</a>
license: MIT
owners:
- name: Matt Butcher
  email: technosophos@gmail.com
  homepage: <a href="http://technosophos.com">http://technosophos.com</a>
- name: Matt Farina
  email: matt@mattfarina.com
  homepage: <a href="https://www.mattfarina.com">https://www.mattfarina.com</a>
ignore:
- appengine
excludeDirs:
- node_modules
import:
- package: gopkg.in/yaml.v2
- package: github.com/Masterminds/vcs
  version: ^1.2.0
  repo:    git@github.com:Masterminds/vcs
  vcs:     git
- package: github.com/codegangsta/cli
  version: f89effe81c1ece9c5b0fda359ebd9cf65f169a51
- package: github.com/Masterminds/semver
  version: ^1.0.0
testImport:
- package: github.com/arschles/assert
有以下元素：
package: 顶级包导入路径，即 相对 GOPATH/src 的包的导入路径。
homepage: 项目的主页，如 <a href="http://k8s.io">http://k8s.io</a> 。
license: 项目的使用权协议。
owners: 项目的作者信息，如 姓名、联系方式（email）、个人主页 等。
ignore: 需要忽略导入的包名列表。注意，不是文件夹名。
excludeDirs: 需要忽略扫描依赖包的文件夹列表。
import: 需要导入的依赖包，每个依赖包 包含以下元素：
package: 包路径信息。
version: 版本号，如 语义版本、范围版本、分支版本、标签版本、提交号版本等，更多的信息查看文档：versioning documentation。
repo: 包的仓库地址信息。如果包名不是包仓库路径信息 或者是 私有仓库，可以从线上的仓库 check out 文件到 包名中指定的（本地）路径，也可以使用 fork 指令。
vcs: 使用到的版本控制系统，如 git、hg、bzr 或 svn。如果不能从上述的 package 中确定 版本控制系统类型的话，需要在这里指定。如 仓库路径带有 .git 后缀 或 GitHub 仓库路径 等都可以自动识别类型为 git。
subpackages: 当前包所使用到的子包名列表。
os: 能适用于哪些操作系统？ 与 运行时(runtime) 当中的 操作系统变量(GOOS) 匹配比较，如果是匹配上，就获取该包。
arch: 能使用于哪些结构？与 运行时(runtime) 当中的 runtime architecture 变量（GOARCH）匹配比较，如果匹配上，就获取该包。
testImport: 用于测试的包。</p>

<p>翻译自 官方教程：
<a href="http://glide.readthedocs.io/en/stable/versions/">http://glide.readthedocs.io/en/stable/versions/</a></p>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='https://idevz.github.io/categories/%E6%8A%80%E6%9C%AF/'>技术</a>, <a class='category' href='https://idevz.github.io/categories/golang/'>Golang</a></div>
<div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='https://idevz.github.io/tags/%E5%8C%85%E7%AE%A1%E7%90%86/'>包管理</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='https://idevz.github.io/2017/07/tcp/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>tcp</a>
    </div><div class='next-entry sep-before'>
      <a href='https://idevz.github.io/2017/07/centos-%E5%A6%82%E4%BD%95%E6%89%93-rpm-%E5%8C%85/'>
        <span class='screen-reader-text'>Next post: </span>CentOS 如何打 RPM 包<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p>© 2020 idevz.org</p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__assets_js_src="https://idevz.github.io/assets/js/"</script>

<script src='https://idevz.github.io/assets/js/main.67d669ac.js'></script>

</body>

</html>

